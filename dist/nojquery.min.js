/* Copyright (c) 2023 Carlos A. (https://github.com/dealfonso); License: https://opensource.org/license/mit/ */(function(t){(t=>{const f=document.createElement("div");function h(...e){const i=t=>t instanceof Element||t instanceof HTMLDocument;let r=this._$version===undefined?[document]:this;let s=[];if(e.length===0){e=[...r]}for(let t in e){let n=e[t];if(typeof n==="string"){f.innerHTML=n;if(f.children.length>0){s.push(...f.children);f.innerHTML=""}else{r.forEach((t,e)=>{s.push(...t.querySelectorAll(n))})}}else if(i(n)){s.push(n)}else if(Array.isArray(n)){for(let t in n){if(i(n[t])){s.push(n[t])}}}else if(typeof n==="function"){h(document).on("DOMContentLoaded",n)}else{console.log("Element not recognized: ",n)}}Object.assign(s,h);return s}h._$version="1.2.1";h.addClass=function(...e){this.forEach((n,t)=>{e.forEach((t,e)=>n.classList.add(t))});return this};h.removeClass=function(...e){this.forEach((n,t)=>{e.forEach((t,e)=>n.classList.remove(t))});return this};h.hasClass=function(t){if(this.length===0){return false}return this[0].classList.contains(t)};h.toggleClass=function(...e){this.forEach((n,t)=>{e.forEach((t,e)=>n.classList.toggle(t))});return this};function s(t,e){if(t.__eventHandlers===undefined){t.__eventHandlers={}}if(t.__eventHandlers[e]===undefined){t.__eventHandlers[e]=[];t.addEventListener(e,n=>{t.__eventHandlers[e].forEach((t,e)=>{t(n)})})}return t.__eventHandlers[e]}h.on=function(n,i=t=>{}){this.forEach((t,e)=>{s(t,n).push(i)});return this};h.off=function(i,r=null){this.forEach((t,e)=>{let n=s(t,i);if(r===null){n.splice(0,n.length)}else{let t=0;while(t<n.length){if(n[t]==r){n.splice(t,1)}else{t++}}}});return this};h.attr=function(e,s){if(typeof e==="string"){let n=e;let i=s;if(arguments.length==1){if(this.length>=1){return l(this[0],n)}return null}this.forEach((t,e)=>{t.setAttribute(n,i)})}else if(Array.isArray(e)){let t=e;let n=typeof s==="boolean"?s:false;let i={};let r=this[0]??null;t.forEach((t,e)=>{i[t]=l(r,t,n)});i.removeNulls=function(){Object.keys(this).forEach(t=>{if(this[t]===null){delete this[t]}});return this}.bind(i);return i}else if(typeof e==="object"){let i=e;let r=typeof s==="boolean"?s:false;this.forEach((n,t)=>{for(let e in i){let t=r?o(e):e;n.setAttribute(t,i[e])}})}return this};h.droppable=function(n=t=>{},i=t=>{}){this.forEach((t,e)=>{h(t).on("dragover",t=>t.preventDefault());h(t).on("drop",t=>{t.preventDefault();if(t.dataTransfer.files&&t.dataTransfer.files.length>0){n(t.dataTransfer.files)}else{i(t.dataTransfer)}})});return this};h.data=function(e,n){if(n===undefined){if(this.length===0){return null}return this[0].dataset[e]}this.forEach(t=>t.dataset[e]=n);return this};h.width=function(e){if(e===undefined){if(this.length===0){return 0}return this[0].offsetWidth}if(typeof e==="string"){e=parseInt(e);if(!isNaN(e)){e=e+"px"}}this.forEach(t=>t.style.width=e);return this};h.height=function(e){if(e===undefined){if(this.length===0){return 0}return this[0].offsetHeight}if(typeof e==="string"){e=parseInt(e);if(!isNaN(e)){e=e+"px"}}this.forEach(t=>t.style.height=e);return this};h.offset=function(){if(this.length===0){return{top:0,left:0}}let t=this[0].getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX}};h.outerHeight=function(){if(this.length===0){return 0}return this[0].offsetHeight};h.outerWidth=function(){if(this.length===0){return 0}return this[0].offsetWidth};h.position=function(){if(this.length===0){return{top:0,left:0}}let t=this[0].getBoundingClientRect();return{top:t.top,left:t.left}};h.empty=function(){this.forEach(t=>t.innerHTML="");return this};h.remove=function(){this.forEach(t=>t.remove());return this};h.append=function(e){if(e instanceof HTMLElement){if(this.length>0){this[0].appendChild(e)}}else if(Array.isArray(e)){e.forEach(t=>this.append(t))}else if(typeof e==="string"){this.forEach(t=>t.innerHTML+=e)}return this};h.prepend=function(e){if(e instanceof HTMLElement){if(this.length>0){this[0].insertBefore(e,this[0].firstChild)}}else if(Array.isArray(e)){e.forEach(t=>this.prepend(t))}else if(typeof e==="string"){this.forEach(t=>t.innerHTML=e+t.innerHTML)}return this};h.after=function(e){if(e instanceof HTMLElement){if(this.length>0){this[0].insertAdjacentElement("afterend",e)}}else if(Array.isArray(e)){e.forEach(t=>this.after(t))}else if(typeof e==="string"){this.forEach(t=>t.insertAdjacentHTML("afterend",e))}return this};h.before=function(e){if(e instanceof HTMLElement){if(this.length>0){this[0].insertAdjacentElement("beforebegin",e)}}else if(Array.isArray(e)){e.forEach(t=>this.before(t))}else if(typeof e==="string"){this.forEach(t=>t.insertAdjacentHTML("beforebegin",e))}return this};h.find=function(e){let n=[];this.forEach(t=>n.push(...Array.from(t.querySelectorAll(e))));return h(n)};h.get=function(t){if(t===undefined){return this}if(this.length===0||t<0||t>=this.length){return null}return this[t]};h.each=function(e){e=e.bind(this);for(let t=0;t<this.length;t++){e(t,this[t])}return this};h.map=function(e){let n=[];e=e.bind(this);for(let t=0;t<this.length;t++){n.push(e(t,this[t]))}return n};h.filter=function(e){let n=[];e=e.bind(this);for(let t=0;t<this.length;t++){if(e(t,this[t])){n.push(this[t])}}return h(n)};h.text=function(e){if(e===undefined){if(this.length===0){return""}return this[0].innerText}this.forEach(t=>t.innerText=e);return this};h.html=function(e){if(e===undefined){if(this.length===0){return""}return this[0].innerHTML}this.forEach(t=>t.innerHTML=e);return this};h._$=function(...t){return h.bind(this)(...t)};function l(t,e,n=false){if(t===null){return null}let i=e.split(":");e=i[0];let r=n?o(e):e;let s=t.getAttribute(r);if(s!=null){let t="string";if(i.length>1){t=i[1].toLowerCase()}switch(t){case"int":try{s=parseInt(s)}catch(t){};break;case"float":try{s=parseFloat(s)}catch(t){};break;case"bool":s=["","true","1"].indexOf(s.toLowerCase())>=0;break}}return s}const o=t=>t.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`);t._$=h})(window)})(window);
