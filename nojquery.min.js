/* Copyright (c) 2023 Carlos A. (https://github.com/dealfonso); License: https://opensource.org/license/mit/ */(e=>{function i(...t){const r=e=>e instanceof Element||e instanceof HTMLDocument;let s=this._$version===undefined?[document]:this;let l=[];if(t.length===0){t=[...s]}for(let e in t){let n=t[e];if(typeof n==="string"){s.forEach((e,t)=>{l.push(...e.querySelectorAll(n))})}else if(r(n)){l.push(n)}if(Array.isArray(n)){n.map(e=>i(e)).forEach((e,t)=>l.push(...e))}else if(typeof n==="function"){i(document).on("DOMContentLoaded",n)}}Object.assign(l,i);return l}i._$version="1.0.1";i.addClass=function(...t){this.forEach((n,e)=>{t.forEach((e,t)=>n.classList.add(e))});return this};i.removeClass=function(...t){this.forEach((n,e)=>{t.forEach((e,t)=>n.classList.remove(e))});return this};i.on=function(r,n=e=>{}){this.forEach((e,t)=>{if(e.__handlers==null){e.__handlers={}}if(e.__handlers[r]==null){e.__handlers[r]=[];e.addEventListener(r,n=>{e.__handlers[r].forEach((e,t)=>{e(n)})})}e.__handlers[r].push(n)});return this};i.off=function(n,r=null){this.forEach((t,e)=>{if(t.__handlers==null){t.__handlers={}}if(r==null){t.__handlers[n]=[]}else{let e=0;while(e<t.__handlers[n].length){if(t.__handlers[n][e]==r){delete t.__handlers[n][e]}else{e++}}}});return this};i.attr=function(n,r=null){console.log(arguments);if(arguments.length==1){if(this.length>=1){r=this[0].getAttribute(n)}return r}this.forEach((e,t)=>{e.setAttribute(n,r)});return this};i.attrs=function(r,a=true){if(Array.isArray(r)){let l={};let i=this[0]??null;r.forEach((e,t)=>{let n=e.split(":");e=n[0];let r=a?o(e):e;let s=i===null?null:i.getAttribute(r);if(s!=null){let e="string";if(n.length>1){e=n[1].toLowerCase()}switch(e){case"int":try{s=parseInt(s)}catch(t){};break;case"float":try{s=parseFloat(s)}catch(t){};break;case"bool":s=["","true","1"].indexOf(s.toLowerCase())>=0;break}}l[e]=s});l.removeNulls=function(){Object.keys(this).forEach(e=>{if(this[e]===null){delete this[e]}});return this}.bind(l);return l}this.forEach((n,e)=>{for(let t in r){let e=a?o(t):t;n.setAttribute(e,r[t])}});return this};i.droppable=function(n=e=>{},r=e=>{}){this.forEach((e,t)=>{i(e).on("dragover",e=>e.preventDefault());i(e).on("drop",e=>{e.preventDefault();if(e.dataTransfer.files&&e.dataTransfer.files.length>0){n(e.dataTransfer.files)}else{r(e.dataTransfer)}})});return this};i._$=function(...e){return i.bind(this)(...e)};const o=e=>e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`);e._$=i})(window);
