/* Copyright (c) 2023 Carlos A. (https://github.com/dealfonso); License: https://opensource.org/license/mit/ */(e=>{const i=document.createElement("div");function a(...t){const r=e=>e instanceof Element||e instanceof HTMLDocument;let l=this._$version===undefined?[document]:this;let s=[];if(t.length===0){t=[...l]}for(let e in t){let n=t[e];if(typeof n==="string"){i.innerHTML=n;if(i.children.length>0){s.push(...i.children);i.innerHTML=""}else{l.forEach((e,t)=>{s.push(...e.querySelectorAll(n))})}}else if(r(n)){s.push(n)}if(Array.isArray(n)){n.map(e=>a(e)).forEach((e,t)=>s.push(...e))}else if(typeof n==="function"){a(document).on("DOMContentLoaded",n)}}Object.assign(s,a);return s}a._$version="1.1.0";a.addClass=function(...t){this.forEach((n,e)=>{t.forEach((e,t)=>n.classList.add(e))});return this};a.removeClass=function(...t){this.forEach((n,e)=>{t.forEach((e,t)=>n.classList.remove(e))});return this};a.on=function(r,n=e=>{}){this.forEach((e,t)=>{if(e.__handlers==null){e.__handlers={}}if(e.__handlers[r]==null){e.__handlers[r]=[];e.addEventListener(r,n=>{e.__handlers[r].forEach((e,t)=>{e(n)})})}e.__handlers[r].push(n)});return this};a.off=function(n,r=null){this.forEach((t,e)=>{if(t.__handlers==null){t.__handlers={}}if(r==null){t.__handlers[n]=[]}else{let e=0;while(e<t.__handlers[n].length){if(t.__handlers[n][e]==r){delete t.__handlers[n][e]}else{e++}}}});return this};a.attr=function(t,s){if(typeof t==="string"){let n=t;let r=s;if(arguments.length==1){if(this.length>=1){return o(this[0],n)}return null}this.forEach((e,t)=>{e.setAttribute(n,r)})}else if(Array.isArray(t)){let e=t;let n=typeof s==="boolean"?s:false;let r={};let l=this[0]??null;e.forEach((e,t)=>{r[e]=o(l,e,n)});r.removeNulls=function(){Object.keys(this).forEach(e=>{if(this[e]===null){delete this[e]}});return this}.bind(r);return r}else if(typeof t==="object"){let r=t;let l=typeof s==="boolean"?s:false;this.forEach((n,e)=>{for(let t in r){let e=l?f(t):t;n.setAttribute(e,r[t])}})}return this};a.droppable=function(n=e=>{},r=e=>{}){this.forEach((e,t)=>{a(e).on("dragover",e=>e.preventDefault());a(e).on("drop",e=>{e.preventDefault();if(e.dataTransfer.files&&e.dataTransfer.files.length>0){n(e.dataTransfer.files)}else{r(e.dataTransfer)}})});return this};a._$=function(...e){return a.bind(this)(...e)};function o(e,t,n=false){if(e===null){return null}let r=t.split(":");t=r[0];let l=n?f(t):t;let s=e.getAttribute(l);if(s!=null){let e="string";if(r.length>1){e=r[1].toLowerCase()}switch(e){case"int":try{s=parseInt(s)}catch(e){};break;case"float":try{s=parseFloat(s)}catch(e){};break;case"bool":s=["","true","1"].indexOf(s.toLowerCase())>=0;break}}return s}const f=e=>e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`);e._$=a})(window);
